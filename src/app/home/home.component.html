<div class="row">
  <h1>Home</h1>
  <div class="col-sm-12 col-md-9">
    <!-- Admin form -->

    <div class=popupContainer  *ngIf="token">
      <button type="button" class="btn btn-info btn-lg" (click)="showFormPopup()">import media</button>
      <app-popup *ngIf="displayFormPopup" class=popup [popupTitle]="'Add new Article'" (onClose)="formPopupOnClose()">
        <app-article-form [pageId]="curId" (newArticleEvent)="newArticle($event)" ></app-article-form>
      </app-popup>
    </div>

    <!-- Articles -->
    <article *ngFor="let article of articles; let i = index; let e = even" class="row card" [ngClass]="{'articleEven': e, 'articleOdd': !e}" id='{{i}}home'>
      <h2>{{article.title}}</h2>
      <div>
        <div *ngIf="article.mimetype">
          <div>
            <img [ngClass]="{'rightImg': e, 'leftImg': !e}" src={{article.media}}>
          </div>
        </div>
        <p style="text-indent: 1em;">
              {{article.text}}
        </p>
      </div>
    </article>
    <div  *ngIf="getListNavPage().length > 1">
      <div class='navPageDivBottom'>
        <button class="btn btn-primary" (click)="offsetChange(-1)">Previous</button>
        <button *ngFor="let button of getListNavPage() ; let i = index;" class="btn btn-outline-primary" [ngClass]="{'btnNavPageCur': offset === button}" (click)="goToOffset(button)">{{i+1}}</button>
        <button class="btn btn-primary" (click)="offsetChange(1)">Next</button>
      </div>
    </div>
  </div>

  <aside class="hidden-sm-down col-md-3">
    <ul>
      <li *ngFor="let article of articles; let i = index; let e = even" class="list-group-item asideMenu" [ngClass]="{'articleEven': e, 'articleOdd': !e}">
        <a (click)="goTo(i+'home')"> {{article.title}}</a>
      </li>
    </ul>
    <div>
      <div class='navPageDiv' *ngIf="getListNavPage().length > 1">
        <button class="btn btn-outline-primary btn-sm" (click)="offsetChange(-1)">←</button>
        <span class='navButtonLike btn-sm'>{{1+offset/nbArticles}} / {{pageCount}}</span>
        <button class="btn btn-outline-primary btn-sm" (click)="offsetChange(1)">→</button>
      </div>
    </div>
  </aside>
</div>
